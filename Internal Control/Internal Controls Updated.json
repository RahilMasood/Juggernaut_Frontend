{
  "controlMetadata": {
    "typeOfControl": "[Direct/Indirect/GITC]",
    "subtype": "[Manual/Automated]",
    "controlId": "",
    "controlName": "",
    "workspace": ""
  },
  "templates": {
    "manual": {
      "sections": [
        {
          "id": "control_summary",
          "label": "Control Summary",
          "fields": [
            { "id": "control_id", "type": "text", "label": "Control ID" },
            { "id": "control_name", "type": "text", "label": "Control Name" },
            { "id": "workspace", "type": "dropdown", "label": "Workspace Linked (this has to be all the areas it is linked to)",
              "options": ["Equity & Reserves","Borrowings","Lease Liability","Other Liabilities","Trade Payable","Provisions and Contingent Liabilities","Income Tax","Statutory Remittances","Property, Plant & Equipment","Intangible Assets","IAUD","Impairment","Investments","Other Assets","Trade Receivables","Inventory","Cash & Cash Equivalents","Revenue from Operations","Other Income","Cost of materials consumed","Employee Benefits Expense","Depreciation & Amortisation Expense","Finance Costs","Other Expenses","Service Auditor's Report","Use of Auditor Specialist","Management use of Expert","Related Party Transaction","Going Concern","Opening Balance Testing","Litigations & Claims","NOCLAR","Using work of other auditor","Review of estimates for management bias"]},
            { "id": "control_description", "type": "richText", "label": "Control Description" },
            {
              "id": "control_attributes",
              "label": "Control Attributes",
              "fields": [
                { "id": "type_of_control", "type": "dropdown", "options": ["Direct", "Indirect", "GITC"], "label": "Type of Control" },
                { "id": "nature", "type": "dropdown", "options": ["Manual", "Automated", "Service Organization Control"], "label": "Nature" },
                { "id": "approach", "type": "dropdown", "options": ["Preventive", "Detective"], "label": "Approach" },
                {
                  "id": "type",
                  "type": "multiSelectDropdown",
                  "options": [
                    "Verification",
                    "Authorizations & Approvals",
                    "Physical Controls & Counts",
                    "Controls over IUC",
                    "Reconciliations",
                    "Control with review element",
                    "GITC Control"
                  ],
                  "label": "Type"
                }
              ]
            },
            {
              "id": "tailoring_questions",
              "fields": [
                { "id": "test_operating_effectiveness", "type": "toggle", "label": "The engagement team is planning to test the operating effectiveness of the control." },
                { "id": "significant_risk", "type": "toggle", "label": "The control addresses a significant risk." },
                { "id": "review_element_estimate", "type": "toggle", "label": "The control includes a review element and addresses a significant accounting estimate." }
              ]
            },
            {
              "id": "related_accounts",
              "label": "Related Accounts and Areas",
              "fields": [
                {
                  "id": "romm_linkage",
                  "type": "table",
                  "columns": ["Note Line ID", "Linked RoMMs"],
                  "label": "Associated RoMMs"
                }
              ]
            },
            {
              "id": "detailed_description",
              "label": "Detailed Description",
              "fields": [
                { "id": "toggle_detailed", "type": "toggle", "label": "Provide detailed description of how control is performed?" },
                {
                  "id": "steps",
                  "type": "repeatableGroup",
                  "label": "Steps (if toggled on)",
                  "fields": [
                    { "id": "step_description", "type": "richText", "label": "Step Description", "conditon": "toggle on"},
                    { "id": "iuc", "type": "association", "label": "Information used in control (IUC)" },
                    { "id": "output", "type": "richText", "label": "Output of Control", "note": "Understand the output of the control, which includes understanding the specific evidence that supports that the control activity that occurred." }
                  ],
                  "visibilityRules": { "when": "toggle_detailed", "is": true }
                }
              ]
            }
          ]
        },
        {
          "id": "evaluate_design_and_implementation",
          "label": "Evaluate Design and Determine Implementation",
          "fields": [
            {
              "id": "design_implementation",
              "label": "Design & Implementation",
              "fields": [
                {
                  "id": "procedure_steps",
                  "type": "repeatableGroup",
                  "label": "Procedures for each step",
                  "fields": [
                    { "id": "procedures_performed", "type": "richText", "label": "Procedures Performed" },
                    {
                      "id": "nature_of_testing",
                      "type": "dropdown",
                      "options": ["Inquiry + Observation", "Inquiry + Inspection", "Observation", "Inspection"],
                      "label": "Nature of Testing Procedure"
                    },
                    { "id": "procedure_description", "type": "richText", "label": "Procedure Description" },
                    { "id": "test_of_design", "type": "richText", "label": "Test of Design & Implementation" }
                  ]
                }
              ]
            },
            {
              "id": "evidence_design",
              "label": "Evidence of Design & Implementation",
              "fields": [
                { "id": "evidence_document", "type": "document", "label": "Upload Evidence of Design & Implementation" }
              ]
            },
            {
              "id": "design_factors",
              "label": "Design Factors",
              "fields": [
                { "id": "factor1", "type": "richText", "label": "Appropriateness of control purpose vs risk" },
                {
                  "id": "factor2_owner",
                  "type": "toggleWithAssociation",
                  "label": "Competence and authority of control owner",
                  "association": "controlOwnerLibrary"
                },
                {
                  "id": "factor3_frequency",
                  "type": "dropdown",
                  "options": ["Annually", "Quarterly", "Monthly", "Weekly", "Daily", "As needed", "Many times per day"],
                  "label": "Frequency"
                },
                { "id": "factor3_consistency", "type": "richText", "label": "Consistency" },
                { "id": "factor4", "type": "richText", "label": "Level of aggregation and predictability" },
                { "id": "factor5", "type": "richText", "label": "Criteria for investigation and follow-up" }
              ]
            },
            {
              "id": "dependent_controls",
              "label": "Dependent Controls",
              "fields": [
                { "id": "is_dependent", "type": "dropdown", "options": ["Yes", "No"], "label": "Is the control dependent on other controls?" },
                {
                  "id": "associated_controls",
                  "type": "association",
                  "label": "Associated Controls",
                  "visibilityRules": { "when": "is_dependent", "is": "Yes" }
                }
              ]
            },
            {
              "id": "effectiveness_design",
              "label": "Effectiveness of Design & Implementation",
              "fields": [
                { "id": "design_effective", "type": "dropdown", "options": ["Yes", "No", "Not Yet Concluded"], "label": "Is the design effective?" },
                { "id": "implemented", "type": "dropdown", "options": ["Yes", "No", "Not Yet Concluded"], "label": "Is the control properly implemented?" }
              ]
            }
          ]
        },
        {
          "id": "prior_year_audit_evidence",
          "label": "Prior Year Audit Evidence",
          "fields": [
            { "id": "use_prior_year", "type": "dropdown", "options": ["Yes", "No"], "label": "Use prior year audit evidence?" },
            {
              "id": "changes_since_prior",
              "type": "richText",
              "label": "Describe changes since prior testing",
              "visibilityRules": { "when": "use_prior_year", "is": "Yes" }
            },
            {
              "id": "significant_changes",
              "type": "dropdown",
              "options": ["Yes", "No"],
              "label": "Are changes significant?",
              "visibilityRules": { "when": "use_prior_year", "is": "Yes" }
            },
            {
              "id": "tested_current_year",
              "type": "dropdown",
              "options": ["Yes", "No"],
              "label": "Tested at least one control in current year?",
              "visibilityRules": { "when": "use_prior_year", "is": "Yes" }
            },
            { "id": "supporting_docs", "type": "document", "label": "Upload prior year audit evidence" }
          ]
        },
        {
          "id": "risk_associated_with_control",
          "label": "Risk Associated With Control",
          "fields": [
            { "id": "risk_level", "type": "dropdown", "options": ["Higher", "Not Higher"], "label": "Risk Assessment" },
            { "id": "risk_basis", "type": "richText", "label": "Basis for Risk Conclusion" }
          ]
        },
        {
          "id": "operating_effectiveness",
          "label": "Operating Effectiveness",
          "fields": [
            { "id": "timing_procedure", "type": "dropdown", "options": ["Apportion", "Conclude at Interim"], "label": "Timing of Procedure" },
            { "id": "extent_frequency", "type": "number", "label": "Frequency (number of times performed)" },
            {
              "id": "deviations",
              "type": "dropdown",
              "options": ["Yes", "No"],
              "label": "Planning for deviations?"
            },
            {
              "id": "deviation_details",
              "type": "richText",
              "label": "Deviation details",
              "visibilityRules": { "when": "deviations", "is": "Yes" }
            },
            { "id": "sample_size", "type": "number", "label": "Sample Size" },
            { "id": "sample_rationale", "type": "richText", "label": "Rationale for sample size" },
            {
              "id": "nature_procedures",
              "type": "repeatableGroup",
              "label": "Nature of Procedures",
              "fields": [
                {
                  "id": "nature",
                  "type": "dropdown",
                  "options": ["Inquiry + Observation", "Inquiry + Inspection", "Observation", "Inspection"],
                  "label": "Nature of Testing"
                },
                { "id": "procedure_description", "type": "richText", "label": "Procedure Description" }
              ]
            },
            { "id": "operating_tests_docs", "type": "document", "label": "Perform tests of operating effectiveness" },
            { "id": "operating_conclusion", "type": "dropdown", "options": ["Yes", "No", "Not Yet Concluded"], "label": "Is the control operating effectively?" }
          ]
        },
        {
          "id": "rollforward",
          "label": "Rollforward",
          "fields": [
            { "id": "rollforward_period", "type": "dateRange", "label": "Rollforward Period" },
            { "id": "inquiry_name", "type": "text", "label": "Name of Person Inquired" },
            { "id": "inquiry_date", "type": "date", "label": "Date of Inquiry" },
            {
              "id": "changes_icfr",
              "type": "dropdown",
              "options": ["Yes", "No"],
              "label": "Changes in ICFR?"
            },
            {
              "id": "changes_details",
              "type": "richText",
              "label": "Details of Changes",
              "visibilityRules": { "when": "changes_icfr", "is": "Yes" }
            },
            {
              "id": "additional_procedures",
              "type": "richText",
              "label": "Additional Procedures",
              "visibilityRules": { "when": "changes_icfr", "is": "Yes" }
            },
            { "id": "gitc_dependency", "type": "dropdown", "options": ["Yes", "No"], "label": "Relevant GITC operating effectively?" },
            { "id": "rollforward_tests_docs", "type": "document", "label": "Perform tests of operating effectiveness" },
            { "id": "rollforward_conclusion", "type": "dropdown", "options": ["Yes", "No", "Not Yet Concluded"], "label": "Is rollforward sufficient?" }
          ]
        }
      ]
    },
    "automated": {
      "sections": [
        {
          "id": "control_summary",
          "label": "Control Summary",
          "fields": [
            { "id": "control_id", "type": "text", "label": "Control ID" },
            { "id": "control_name", "type": "text", "label": "Control Name" },
            { "id": "workspace", "type": "text", "label": "Workspace Linked (this has to be all the areas it is linked to)" },
            { "id": "control_description", "type": "richText", "label": "Control Description" },
            {
              "id": "control_attributes",
              "label": "Control Attributes",
              "fields": [
                { "id": "type_of_control", "type": "dropdown", "options": ["Direct", "Indirect", "GITC"], "label": "Type of Control" },
                { "id": "nature", "type": "dropdown", "options": ["Manual", "Automated", "Service Organization Control"], "label": "Nature" },
                { "id": "approach", "type": "dropdown", "options": ["Preventive", "Detective"], "label": "Approach" },
                {
                  "id": "type",
                  "type": "multiSelectDropdown",
                  "options": [
                    "Automated Input Control",
                    "Automated Processing Control",
                    "Automated Output Control",
                    "Automated Calculation Control",
                    "Automated Application Access Control"
                  ],
                  "label": "Type"
                }
              ]
            },
            {
              "id": "tailoring_questions",
              "fields": [
                { "id": "test_operating_effectiveness", "type": "toggle", "label": "The engagement team is planning to test operating effectiveness of control." }
              ]
            }
          ]
        },
        {
          "id": "evaluate_design_and_implementation",
          "label": "Evaluate Design and Determine Implementation",
          "fields": [
            { "id": "display_control_description", "type": "display", "label": "Control Description" },
            { "id": "associated_gitc", "type": "association", "label": "Associated GITC Controls" },
            { "id": "config_reliance", "type": "dropdown", "options": ["Yes", "No"], "label": "Does control rely on system configuration?" },
            {
              "id": "config_settings",
              "type": "table",
              "columns": ["Configuration Name", "Configuration Description"],
              "visibilityRules": { "when": "config_reliance", "is": "Yes" }
            },
            { "id": "config_design", "type": "richText", "label": "Management’s intended design of configuration" },
            { "id": "config_access", "type": "richText", "label": "Access to modify configuration" },
            { "id": "config_change_frequency", "type": "richText", "label": "Does configuration change frequently?" },
            { "id": "procedures_design", "type": "richText", "label": "Procedures to understand design" },
            { "id": "variants", "type": "table", "columns": ["Variant Name", "Variant Description"], "label": "Variants" },
            {
              "id": "source_data",
              "type": "repeatableGroup",
              "label": "Source Data",
              "fields": [
                { "id": "source_name", "type": "text", "label": "Source Data Name" },
                { "id": "source_description", "type": "richText", "label": "Source Data Description" },
                { "id": "gitc_applicable", "type": "dropdown", "options": ["Yes", "No"], "label": "Relevant GITC over source data?" },
                { "id": "business_control", "type": "dropdown", "options": ["Yes", "No"], "label": "Any business control over source data?" }
              ]
            },
            {
              "id": "design_factors",
              "fields": [
                { "id": "factor1", "type": "richText", "label": "Appropriateness of control purpose vs risk" },
                {
                  "id": "factor2_owner",
                  "type": "toggleWithAssociation",
                  "label": "Competence and authority of control owner",
                  "association": "controlOwnerLibrary"
                },
                {
                  "id": "factor3_frequency",
                  "type": "dropdown",
                  "options": ["Annually", "Quarterly", "Monthly", "Weekly", "Daily", "As needed", "Many times per day"],
                  "label": "Frequency"
                },
                { "id": "factor3_consistency", "type": "richText", "label": "Consistency" },
                { "id": "factor4", "type": "richText", "label": "Level of aggregation and predictability" },
                { "id": "factor5", "type": "richText", "label": "Criteria for investigation and follow-up" }
              ]
            },
            {
              "id": "effectiveness_design",
              "fields": [
                { "id": "design_effective", "type": "dropdown", "options": ["Yes", "No", "Not Yet Concluded"], "label": "Is the design effective?" },
                { "id": "implemented", "type": "dropdown", "options": ["Yes", "No", "Not Yet Concluded"], "label": "Is the control properly implemented?" }
              ]
            }
          ]
        },
        {
          "id": "risk_associated_with_control",
          "label": "Risk Associated With Control",
          "fields": [
            { "id": "risk_level", "type": "dropdown", "options": ["Higher", "Not Higher"], "label": "Risk Assessment" },
            { "id": "risk_basis", "type": "richText", "label": "Basis for Risk Conclusion" }
          ]
        },
        {
          "id": "operating_effectiveness",
          "label": "Operating Effectiveness",
          "fields": [
            { "id": "timing_procedure", "type": "display", "label": "Timing of Procedure: Conclude at Interim" },
            { "id": "sample_size", "type": "number", "label": "Sample Size" },
            { "id": "sample_rationale", "type": "richText", "label": "Rationale for Sample Size" },
            { "id": "using_work_of_others", "type": "dropdown", "options": ["Yes", "No"], "label": "Using work of others?" },
            {
              "id": "work_of_others_approach",
              "type": "dropdown",
              "options": ["Selected For Reperformance", "Not Selected For Reperformance"],
              "visibilityRules": { "when": "using_work_of_others", "is": "Yes" }
            },
            {
              "id": "nature_procedures",
              "type": "repeatableGroup",
              "label": "Nature of Procedures",
              "fields": [
                {
                  "id": "nature",
                  "type": "dropdown",
                  "options": ["Inquiry + Observation", "Inquiry + Inspection", "Observation", "Inspection"],
                  "label": "Nature of Testing"
                },
                { "id": "procedure_description", "type": "richText", "label": "Procedure Description" },
                { "id": "test_of_effectiveness", "type": "richText", "label": "Test of Operating Effectiveness" }
              ]
            },
            { "id": "operating_tests_docs", "type": "document", "label": "Perform tests of operating effectiveness" },
            { "id": "operating_conclusion", "type": "dropdown", "options": ["Yes", "No", "Not Yet Concluded"], "label": "Is the control operating effectively?" }
          ]
        },
        {
          "id": "rollforward",
          "label": "Rollforward",
          "fields": [
            { "id": "rollforward_period", "type": "dateRange", "label": "Rollforward Period" },
            { "id": "inquiry_name", "type": "text", "label": "Name of Person Inquired" },
            { "id": "inquiry_date", "type": "date", "label": "Date of Inquiry" },
            {
              "id": "changes_icfr",
              "type": "dropdown",
              "options": ["Yes", "No"],
              "label": "Changes in ICFR?"
            },
            {
              "id": "changes_details",
              "type": "richText",
              "label": "Details of Changes",
              "visibilityRules": { "when": "changes_icfr", "is": "Yes" }
            },
            {
              "id": "additional_procedures",
              "type": "richText",
              "label": "Additional Procedures",
              "visibilityRules": { "when": "changes_icfr", "is": "Yes" }
            },
            { "id": "gitc_dependency", "type": "dropdown", "options": ["Yes", "No"], "label": "Relevant GITC operating effectively?" },
            { "id": "rollforward_tests_docs", "type": "document", "label": "Perform tests of operating effectiveness" },
            { "id": "rollforward_conclusion", "type": "dropdown", "options": ["Yes", "No", "Not Yet Concluded"], "label": "Is rollforward sufficient?" }
          ]
        }
      ]
    }
  }
}